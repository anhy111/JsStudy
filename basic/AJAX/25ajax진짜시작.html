<!DOCTYPE html>
<meta charset="UTF-8">
<script>
    // 에이잭스 기본 틀
    // 아래처럼 전역변수로 만들지 않음.
    // 필요할 때 마다 function안에서 지역변수 생성해서 사용
    var v_ajax = new XMLHttpRequest();  // 대신 통신 해줄 객체 생성

    // 시킬 일 지정, 비동기여부는 아주 특별한 상황이 아니면 true로 사용
    // v_ajax.open("메소드","URL","비동기여부");  // get, post, put, delete...
                    //  절대, 상대경로 가능 비동기(true) 동기(false)
    v_ajax.open("get","dummy.txt", true);  // get, post, put, delete...

    

    // 통신 결과를 받으려면 통신이 끝나야 받을 수 있음
    // 이벤트로 알려줌.( 통신준비중, 데이타전송중, 종료 );

    v_ajax.onreadystatechange = function(){
        // 통신 중간과정은 관심없고, 끝나는 것만 관심있음
        if(v_ajax.readyState == 4 && v_ajax.status == 200){
            // 요청객체가 끝났다고 해도 부족함.
            // 신뢰성을 위해 서버의 응답코드가 필요
            alert(v_ajax.responseText);
        }
    }

    // 일반적으로 이벤트를 send보다 위에 씀, 일부 이벤트를 놓칠 수 있음
    // 보통 이벤트 등록을 먼저 함.
    v_ajax.send(); 



</script>